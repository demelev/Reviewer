// Generated by CoffeeScript 1.10.0

var column_name_map = {
    your_name            : "Please provide your full name.",
    perform_tasks        : "He/she performs the required tasks of the assigned role excellently.",
    is_dilligent         : "He/she is dilligent and detail oriented in performing the role assigned.",
    is_works_well        : "He/she is works well with others and hands off a clean product for the next person in the production chain.",
    commits_to_deadlines : "He/she commits to clear deadlines and upholds them consistently.",
    right_intensity      : "He/she demonstrates the right intensity and personal commitment in trying to produce the best work product possible in as little time as possible",
    seeks_feedback       : "He/she proactively seeks out feedback and acts on constructive feedback to grow and learn.",
    lives_culture        : "He/she lives the culture of Bully and contributes to making the company great.",
    is_helping_others    : "He/she is helping others grow and learn",
    build_needed_systems : "He/she is helping to build the needed systems, processes and structure for the company to be able to grow successfully"
}

function read_my_response(data) {
    var obj = {};
    //obj.name = data[0];
    return obj;
}

function parse_responses(data)
{
    console.log(data);
    var my_response = read_my_response(data[1]);   
    return my_response;
}

function substitute_headers(text)
{
    for(var item in column_name_map)
    {
        text = text.replace(new RegExp(column_name_map[item], 'g'), item);
    }
    return text;
}

function read_responses(text)
{
    text = substitute_headers(text);
    var data = Papa.parse(text);
    return parse_responses(data);
}

function load_responses(callback)
{
    $.get("/data.csv", function(data, status) {
        console.log("file loaded");
        callback(read_responses(data));
    });
}

